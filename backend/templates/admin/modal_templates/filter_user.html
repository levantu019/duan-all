{% load data_model %}
{% with app_name="quanlytaikhoan" model_name="nguoidung" %}

<div id="filter-modal" class="modal fade">
    <form id="filter-user-form" action="/admin/{{app_name}}/{{model_name}}/" method="GET">
        <div class="modal-dialog modal-dialog-centered" style="max-width: 600px">
            <div class="modal-content">
                <div class="modal-header" style="display: flex; text-align: left;">
                    <h5 class="modal-title">Lọc thông tin</h5>
                    <button type="button" class="close" aria-label="Close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">                 
                    <div class="d-flex justify-content-between pl-1 pr-1 mt-2" >
                        <label style="min-width:180px;margin-top: 0.5rem;" for="filter-input-sohieu">Mã nhóm</label>
                        <input class="form-control item-filter" id="filter-input-sohieu" name="maNhom" placeholder="Mã nhóm">
                    </div>
                    <div class="d-flex justify-content-between pl-1 pr-1 mt-2" >
                        <label style="min-width:180px;margin-top: 0.5rem;" for="filter-input-tendv">Tên nhóm</label>
                        <input class="form-control item-filter" id="filter-input-tendv" name="ten" placeholder="Tên nhóm">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary">Lọc</button>
                </div>
            </div>
        </div>
    </form>
</div>
{% endwith %}

<style>
    .select-filter + span{
        width: 100% !important;
    }
    .select-filter+span>span > span:first-child {
        border-color: #CED4DA;
    }
</style>
<script>
    $(document).ready(function() {
        $('.select-filter').select2({
            width: 'resolve' // need to override the changed default
        });

        $('#filter-user-form').submit(() => {
            $(".item-filter").each((idx, val) => {
                if(!$(val).val()) $(val).removeAttr('name');
            })
        })
    });
</script>